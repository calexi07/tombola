<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Roata AniversarƒÉ - The Flower Station</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        .tfs-wrapper {
            font-family: 'Lato', sans-serif;
            background: linear-gradient(135deg, #f5f5f5 0%, #fafafa 100%);
            min-height: auto;
            display: block;
            padding: 40px 20px;
            overflow: hidden !important;
            max-width: 100%;
            position: relative;
        }
        
        .tfs-wrapper > *:not(svg):not(path):not(circle):not(line):not(text) {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        .tfs-container {
            text-align: center;
            max-width: 800px;
            width: 100%;
            margin: 0 auto;
            overflow: visible;
            position: relative;
        }
        
        .tfs-wheel-container {
            position: relative;
            width: 500px;
            height: 500px;
            margin: 0 auto 40px;
            overflow: visible;
        }

        .tfs-wrapper h1 {
            font-family: 'Playfair Display', serif;
            font-size: 3em;
            color: #fa3c7a;
            margin-bottom: 10px;
            font-weight: 700;
            line-height: 1.2;
        }

        .tfs-subtitle {
            font-family: 'Lato', sans-serif;
            font-size: 1.2em;
            color: #880e4f;
            margin-bottom: 40px;
            font-weight: 400;
        }

        .tfs-wheel-container {
            position: relative;
            width: 500px;
            height: 500px;
            margin: 0 auto 40px;
        }

        .tfs-arrow {
            position: absolute;
            left: -60px;
            top: 50%;
            transform: translateY(-50%);
            width: 0;
            height: 0;
            border-top: 40px solid transparent;
            border-bottom: 40px solid transparent;
            border-left: 80px solid #fa3c7a;
            z-index: 1000;
            filter: drop-shadow(0 0 15px rgba(250, 60, 122, 1));
        }

        .tfs-wheel {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            position: relative;
            transition: transform 5.5s cubic-bezier(0.17, 0.67, 0.12, 0.99);
            box-shadow: 0 10px 40px rgba(250, 60, 122, 0.3);
        }
        
        .tfs-wheel svg {
            display: block;
            width: 100%;
            height: 100%;
        }

        .tfs-wheel-text {
            font-family: 'Lato', sans-serif;
            font-size: 17px;
            font-weight: 700;
            fill: #ffffff;
            stroke: #000000;
            stroke-width: 1.5px;
            paint-order: stroke fill;
            text-anchor: middle;
        }

        .tfs-spin-button {
            background: #000000;
            color: white;
            border: none;
            padding: 18px 50px;
            font-size: 1.3em;
            font-weight: 700;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
            font-family: 'Lato', sans-serif;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .tfs-spin-button:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            background: #1a1a1a;
        }

        .tfs-spin-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .tfs-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.6);
            backdrop-filter: blur(5px);
            overflow-y: auto; /* Enable scrolling */
            padding: 20px 0; /* Add padding for mobile */
        }

        .tfs-modal-content {
            background: linear-gradient(135deg, #ffffff 0%, #fce4ec 100%);
            margin: 20px auto;
            padding: 50px 30px 30px;
            border-radius: 25px;
            width: 90%;
            max-width: 500px;
            max-height: 85vh;
            overflow-y: auto;
            text-align: center;
            animation: tfsSlideIn 0.4s;
            box-shadow: 0 15px 50px rgba(250, 60, 122, 0.3);
            border: 3px solid #f8bbd0;
            position: relative;
            -webkit-overflow-scrolling: touch;
        }
        
        .tfs-modal-content::-webkit-scrollbar {
            width: 8px;
        }
        
        .tfs-modal-content::-webkit-scrollbar-track {
            background: #f8bbd0;
            border-radius: 10px;
        }
        
        .tfs-modal-content::-webkit-scrollbar-thumb {
            background: #fa3c7a;
            border-radius: 10px;
        }
        
        .tfs-modal-content::-webkit-scrollbar-thumb:hover {
            background: #c2185b;
        }

        .tfs-modal-content::before {
            display: none;
        }

        @keyframes tfsSlideIn {
            from {
                transform: translateY(-100px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .tfs-flower-emoji {
            font-size: 80px;
            margin-bottom: 20px;
            animation: tfsBounce 1s infinite;
        }

        @keyframes tfsBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .tfs-modal-content h2 {
            font-family: 'Playfair Display', serif;
            font-size: 2.5em;
            margin-bottom: 20px;
            color: #fa3c7a;
            line-height: 1.2;
        }

        .tfs-prize {
            font-size: 2.5em;
            font-weight: 700;
            color: #fa3c7a;
            margin: 30px 0;
            padding: 25px;
            background: linear-gradient(135deg, #fce4ec 0%, #ffffff 100%);
            border-radius: 20px;
            box-shadow: 0 5px 20px rgba(250, 60, 122, 0.2);
            border: 3px dashed #fa3c7a;
        }

        .tfs-form-group {
            margin: 20px 0;
            text-align: left;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #666;
        }

        input {
            width: 100%;
            padding: 15px;
            border: 2px solid #f8bbd0;
            border-radius: 12px;
            font-size: 1em;
            transition: all 0.3s;
            font-family: 'Lato', sans-serif;
        }

        input:focus {
            outline: none;
            border-color: #fa3c7a;
            box-shadow: 0 0 0 3px rgba(250, 60, 122, 0.1);
        }
        
        .tfs-checkbox-group {
            margin: 20px 0;
            text-align: left;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }
        
        .tfs-checkbox,
        .tfs-checkbox-group input[type="checkbox"],
        input#termsCheckbox {
            width: 20px !important;
            height: 20px !important;
            min-width: 20px !important;
            min-height: 20px !important;
            max-width: 20px !important;
            max-height: 20px !important;
            margin: 0 !important;
            padding: 0 !important;
            margin-top: 2px !important;
            cursor: pointer !important;
            flex-shrink: 0 !important;
            opacity: 1 !important;
            visibility: visible !important;
            position: relative !important;
            display: inline-block !important;
            appearance: auto !important;
            -webkit-appearance: checkbox !important;
            -moz-appearance: checkbox !important;
            border: 2px solid #fa3c7a !important;
            background: white !important;
            z-index: 1 !important;
        }
        
        .tfs-checkbox-group label {
            flex: 1;
            cursor: pointer;
            font-size: 0.95em;
            line-height: 1.5;
        }
        
        .tfs-checkbox-group a {
            color: #fa3c7a;
            text-decoration: underline;
            font-weight: 600;
        }
        
        .tfs-checkbox-group a:hover {
            color: #c2185b;
        }
        
        .tfs-error-message {
            background: #fff3cd;
            border: 2px solid #ffc107;
            color: #856404;
            padding: 12px 15px;
            border-radius: 10px;
            margin: 15px 0;
            font-size: 0.95em;
            display: none;
            text-align: left;
            line-height: 1.5;
        }
        
        .tfs-error-message.show {
            display: block;
            animation: tfsShake 0.5s;
        }
        
        @keyframes tfsShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        
        .tfs-comeback-message {
            background: linear-gradient(135deg, #fce4ec 0%, #f8bbd0 100%);
            border: 2px solid #fa3c7a;
            padding: 20px;
            border-radius: 15px;
            margin-top: 25px;
            text-align: center;
        }
        
        .tfs-comeback-message p {
            margin: 10px 0;
            color: #880e4f;
            font-weight: 600;
            font-size: 1.05em;
        }
        
        .tfs-countdown-timer {
            font-size: 2em;
            font-weight: 700;
            color: #fa3c7a;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            letter-spacing: 2px;
        }
        
        .tfs-success-message {
            background: linear-gradient(135deg, #e8f5e9 0%, #f1f8e9 100%);
            border: 2px solid #4caf50;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            display: none;
        }
        
        .tfs-success-message.show {
            display: block;
            animation: tfsSlideIn 0.4s;
        }
        
        .tfs-success-message h3 {
            color: #2e7d32;
            margin: 0 0 15px 0;
            font-size: 1.5em;
        }
        
        .tfs-success-message p {
            color: #558b2f;
            margin: 10px 0;
            line-height: 1.7;
        }
        
        .tfs-discount-code-box {
            background: white;
            border: 3px dashed #4caf50;
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
        }
        
        .tfs-code-display {
            font-size: 2em;
            font-weight: 700;
            color: #fa3c7a;
            font-family: 'Courier New', monospace;
            letter-spacing: 2px;
            padding: 15px;
            background: linear-gradient(135deg, #fce4ec 0%, #ffffff 100%);
            border-radius: 8px;
            border: 2px solid #fa3c7a;
        }

        .tfs-modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: #fa3c7a;
            border: none;
            color: white;
            font-size: 24px;
            line-height: 35px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
        }
        
        .tfs-modal-close:hover {
            background: #c2185b;
            transform: rotate(90deg);
        }

        .tfs-modal-button {
            background: #000000;
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1em;
            font-weight: 700;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            width: auto;
        }
        
        .tfs-modal-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .tfs-modal-button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
            background: #1a1a1a;
        }

        @media (max-width: 600px) {
            h1 {
                font-size: 2em;
            }
            
            .tfs-subtitle {
                font-size: 1em;
            }
            
            .tfs-wheel-container {
                width: 90vw;
                max-width: 350px;
                height: 90vw;
                max-height: 350px;
            }
            
            .tfs-wheel-text {
                font-size: 13px;
                stroke-width: 1.5px;
            }
            
            .tfs-spin-button {
                padding: 15px 35px;
                font-size: 1.1em;
            }
            
            .tfs-modal-content {
                padding: 30px 20px;
                margin: 10px auto;
                width: 95%;
                max-height: 85vh;
            }
            
            .tfs-modal-content::before {
                font-size: 30px;
                top: 15px;
                right: 20px;
            }
            
            .tfs-flower-emoji {
                font-size: 60px;
                margin-bottom: 15px;
            }
            
            h2 {
                font-size: 2em;
                margin-bottom: 15px;
            }
            
            .tfs-prize {
                font-size: 2em;
                padding: 20px;
                margin: 20px 0;
            }
            
            .tfs-form-group {
                margin: 15px 0;
            }
            
            input {
                padding: 12px;
                font-size: 16px; /* Prevents zoom on iOS */
            }
            
            .tfs-modal-button {
                padding: 12px 30px;
                font-size: 1em;
                width: 100%;
                margin-top: 15px;
            }
            
            .tfs-checkbox-group {
                margin: 15px 0;
                gap: 8px;
            }
            
            .tfs-checkbox-group label {
                font-size: 0.9em;
            }
            
            .tfs-error-message {
                font-size: 0.9em;
                padding: 10px 12px;
            }
            
            .tfs-arrow {
                left: -20px;
                border-top: 20px solid transparent;
                border-bottom: 20px solid transparent;
                border-left: 40px solid #d4a5a5;
            }
        }
        
        @media (max-width: 400px) {
            .tfs-wheel-container {
                width: 85vw;
                max-width: 300px;
                height: 85vw;
                max-height: 300px;
            }
            
            .tfs-wheel-text {
                font-size: 11px;
            }
            
            h1 {
                font-size: 1.8em;
            }
            
            .tfs-modal-content {
                padding: 25px 15px;
            }
            
            .tfs-checkbox-group label {
                font-size: 0.85em;
            }
            
            .tfs-comeback-message {
                padding: 15px;
            }
            
            .tfs-comeback-message p {
                font-size: 0.95em;
            }
            
            .tfs-countdown-timer {
                font-size: 1.5em;
            }
            
            .tfs-success-message {
                padding: 20px 15px;
            }
            
            .tfs-success-message h3 {
                font-size: 1.3em;
            }
        }
        
        /* Prevent horizontal scroll */
        .tfs-wrapper {
            overflow-x: hidden;
            max-width: 100vw;
        }
        
        .tfs-container {
            max-width: 100%;
            overflow-x: hidden;
        }
    </style>
</head>
<body style="overflow-x: hidden; max-width: 100vw;">
<div class="tfs-wrapper">
    <div class="tfs-container">
        <h1>Roata AniversarƒÉ</h1>
        <p class="tfs-subtitle">The Flower Station</p>

        <div class="tfs-wheel-container">
            <div class="tfs-arrow"></div>
            <div class="tfs-wheel" id="wheel">
                <svg width="500" height="500" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
                    <!-- Outer circle border -->
                    <circle cx="250" cy="250" r="248" fill="none" stroke="#fa3c7a" stroke-width="6"/>
                    
                    <!-- Section 0: 15 lei - Bright Pink (DARK) -->
                    <path d="M 250 250 L 250.0 2.0 A 248 248 0 0 1 395.8 49.4 Z" fill="#fa3c7a"/>
                    <text x="299.8" y="96.7" class="tfs-wheel-text" transform="rotate(108 299.8 96.7)">15 lei</text>

                    <!-- Section 1: Nec√¢»ôtigƒÉtor - Pale Pink (LIGHT) -->
                    <path d="M 250 250 L 395.8 49.4 A 248 248 0 0 1 485.9 173.4 Z" fill="#ffd6e8"/>
                    <text x="380.4" y="155.2" class="tfs-wheel-text" transform="rotate(144 380.4 155.2)">Nec√¢»ôtigƒÉtor</text>

                    <!-- Section 2: 20 lei - Deep Pink (DARK) -->
                    <path d="M 250 250 L 485.9 173.4 A 248 248 0 0 1 485.9 326.6 Z" fill="#c2185b"/>
                    <text x="411.2" y="250.0" class="tfs-wheel-text" transform="rotate(180 411.2 250.0)">20 lei</text>

                    <!-- Section 3: Nec√¢»ôtigƒÉtor - Blush Pink (LIGHT) -->
                    <path d="M 250 250 L 485.9 326.6 A 248 248 0 0 1 395.8 450.6 Z" fill="#fce4ec"/>
                    <text x="380.4" y="344.8" class="tfs-wheel-text" transform="rotate(216 380.4 344.8)">Nec√¢»ôtigƒÉtor</text>

                    <!-- Section 4: 25 lei - Hot Pink (DARK) -->
                    <path d="M 250 250 L 395.8 450.6 A 248 248 0 0 1 250.0 498.0 Z" fill="#f50057"/>
                    <text x="299.8" y="403.3" class="tfs-wheel-text" transform="rotate(252 299.8 403.3)">25 lei</text>

                    <!-- Section 5: Nec√¢»ôtigƒÉtor - Light Pink (LIGHT) -->
                    <path d="M 250 250 L 250.0 498.0 A 248 248 0 0 1 104.2 450.6 Z" fill="#ffc1e3"/>
                    <text x="200.2" y="403.3" class="tfs-wheel-text" transform="rotate(288 200.2 403.3)">Nec√¢»ôtigƒÉtor</text>

                    <!-- Section 6: Cutie Roshen - Rose Pink (DARK) -->
                    <path d="M 250 250 L 104.2 450.6 A 248 248 0 0 1 14.1 326.6 Z" fill="#ec407a"/>
                    <text x="119.6" y="344.8" class="tfs-wheel-text" transform="rotate(324 119.6 344.8)">Cutie Roshen</text>

                    <!-- Section 7: Nec√¢»ôtigƒÉtor - Soft Pink (LIGHT) -->
                    <path d="M 250 250 L 14.1 326.6 A 248 248 0 0 1 14.1 173.4 Z" fill="#f8bbd0"/>
                    <text x="88.8" y="250.0" class="tfs-wheel-text" transform="rotate(360 88.8 250.0)">Nec√¢»ôtigƒÉtor</text>

                    <!-- Section 8: 10% - Magenta Pink (DARK) -->
                    <path d="M 250 250 L 14.1 173.4 A 248 248 0 0 1 104.2 49.4 Z" fill="#e91e63"/>
                    <text x="119.6" y="155.2" class="tfs-wheel-text" transform="rotate(396 119.6 155.2)">10%</text>

                    <!-- Section 9: 15% - Medium Light Pink (LIGHT) -->
                    <path d="M 250 250 L 104.2 49.4 A 248 248 0 0 1 250.0 2.0 Z" fill="#ffb3d9"/>
                    <text x="200.2" y="96.7" class="tfs-wheel-text" transform="rotate(432 200.2 96.7)">15%</text>

                    <!-- Separator lines -->
                    <line x1="250" y1="250" x2="250.0" y2="2.0" stroke="#f4e4e9" stroke-width="3"/>
                    <line x1="250" y1="250" x2="395.8" y2="49.4" stroke="#f4e4e9" stroke-width="3"/>
                    <line x1="250" y1="250" x2="485.9" y2="173.4" stroke="#f4e4e9" stroke-width="3"/>
                    <line x1="250" y1="250" x2="485.9" y2="326.6" stroke="#f4e4e9" stroke-width="3"/>
                    <line x1="250" y1="250" x2="395.8" y2="450.6" stroke="#f4e4e9" stroke-width="3"/>
                    <line x1="250" y1="250" x2="250.0" y2="498.0" stroke="#f4e4e9" stroke-width="3"/>
                    <line x1="250" y1="250" x2="104.2" y2="450.6" stroke="#f4e4e9" stroke-width="3"/>
                    <line x1="250" y1="250" x2="14.1" y2="326.6" stroke="#f4e4e9" stroke-width="3"/>
                    <line x1="250" y1="250" x2="14.1" y2="173.4" stroke="#f4e4e9" stroke-width="3"/>
                    <line x1="250" y1="250" x2="104.2" y2="49.4" stroke="#f4e4e9" stroke-width="3"/>
                    
                    <!-- Center circle -->
                    <circle cx="250" cy="250" r="35" fill="white" stroke="#d4a5a5" stroke-width="4"/>
                    <circle cx="250" cy="250" r="20" fill="#f4e4e9"/>
                </svg>
            </div>
        </div>

        <button class="tfs-spin-button" id="spinButton">√énv√¢rte Roata</button>
    </div>

    <!-- Modal C√¢»ôtigƒÉtor -->
    <div id="winnerModal" class="tfs-modal">
        <div class="tfs-modal-content winner">
            <span class="tfs-modal-close" onclick="closeWinnerModal()">√ó</span>
            <div class="tfs-flower-emoji">üå∏</div>
            <h2>FelicitƒÉri!</h2>
            <div class="tfs-prize" id="prizeText"></div>
            
            <div id="winnerFormContainer">
                <p style="margin: 25px 0; font-size: 1.05em;">CompleteazƒÉ datele tale pentru a revendica premiul:</p>
                
                <form id="winnerForm">
                    <div id="errorMessage" class="tfs-error-message">
                        ‚ö†Ô∏è Te rugƒÉm sƒÉ completezi toate c√¢mpurile »ôi sƒÉ accep»õi termenii »ôi condi»õiile.
                    </div>
                    
                    <div class="tfs-form-group">
                        <label for="firstName">Nume:</label>
                        <input type="text" id="firstName" required>
                    </div>
                    
                    <div class="tfs-form-group">
                        <label for="lastName">Prenume:</label>
                        <input type="text" id="lastName" required>
                    </div>
                    
                    <div class="tfs-form-group">
                        <label for="email">Email:</label>
                        <input type="email" id="email" required>
                    </div>
                    
                    <div class="tfs-checkbox-group">
                        <input type="checkbox" id="termsCheckbox" class="tfs-checkbox" required>
                        <label for="termsCheckbox">
                            Sunt de acord cu <a href="https://theflowerstation.ro/pages/termeni-si-conditii-roata-norocului" target="_blank">termenii »ôi condi»õiile</a> campaniei Roata AniversarƒÉ.
                        </label>
                    </div>
                    
                    <button type="submit" class="tfs-modal-button">Trimite</button>
                </form>
            </div>
            
            <div id="successMessage" class="tfs-success-message">
                <h3>‚úÖ Datele au fost trimise!</h3>
                <div class="tfs-discount-code-box">
                    <p style="margin-bottom: 10px; font-weight: 600;">Codul tƒÉu de reducere:</p>
                    <div class="tfs-code-display" id="displayDiscountCode"></div>
                    <p style="margin-top: 10px; font-size: 0.9em; color: #666;">Po»õi folosi acest cod la urmƒÉtoarea ta comandƒÉ!</p>
                </div>
                <p style="margin-top: 15px;">Vei primi »ôi un email cu codul de reducere √Æn maxim 24 de ore.</p>
                <p style="font-size: 0.95em;">üìß VerificƒÉ inbox-ul »ôi folderul spam.</p>
            </div>
            
            <div class="tfs-comeback-message">
                <p>üé∞ Vrei sƒÉ c√¢»ôtigi din nou?</p>
                <p>Revino m√¢ine pentru o nouƒÉ »ôansƒÉ!</p>
                <div class="tfs-countdown-timer" id="winnerCountdown">00:00:00</div>
            </div>
        </div>
    </div>

    <!-- Modal Nec√¢»ôtigƒÉtor -->
    <div id="loserModal" class="tfs-modal">
        <div class="tfs-modal-content loser">
            <span class="tfs-modal-close" onclick="closeLoserModal()">√ó</span>
            <div class="tfs-flower-emoji">üåø</div>
            <h2>Mul»õumim pentru participare!</h2>
            <p style="font-size: 1.15em; margin: 25px 0; color: #666; line-height: 1.7;">
                Din pƒÉcate, de aceastƒÉ datƒÉ nu ai c√¢»ôtigat.<br>
                Dar nu te descuraja!
            </p>
            
            <div class="tfs-comeback-message">
                <p>üé∞ √éncearcƒÉ din nou m√¢ine!</p>
                <p>Poate vei avea mai mult noroc.</p>
                <div class="tfs-countdown-timer" id="loserCountdown">00:00:00</div>
            </div>
            
            <button class="tfs-modal-button" onclick="closeLoserModal()">√énchide</button>
        </div>
    </div>

    <script>
        const wheel = document.getElementById('wheel');
        const spinButton = document.getElementById('spinButton');
        const winnerModal = document.getElementById('winnerModal');
        const loserModal = document.getElementById('loserModal');
        const prizeText = document.getElementById('prizeText');
        const winnerForm = document.getElementById('winnerForm');

        // ===== DAILY LIMIT SYSTEM =====
        const STORAGE_KEY = 'tombolaLastSpin';
        const TEST_MODE_KEY = 'tombolaTestMode';
        const LAST_RESULT_KEY = 'tombolaLastResult';
        
        // TEST MODE FUNCTIONS - FOR DEVELOPMENT ONLY
        // AdaugƒÉ acestea √Æn Console pentru testare:
        // enableTestMode() - activeazƒÉ modul test (po»õi √Ænv√¢rti nelimitat)
        // disableTestMode() - dezactiveazƒÉ modul test
        // resetDaily() - reseteazƒÉ limita zilnicƒÉ (po»õi √Ænv√¢rti din nou)
        
        window.enableTestMode = function() {
            localStorage.setItem(TEST_MODE_KEY, 'true');
            console.log('‚úÖ TEST MODE ENABLED - Po»õi √Ænv√¢rti nelimitat!');
            console.log('Pentru a dezactiva: disableTestMode()');
            updateSpinButton();
        };
        
        window.disableTestMode = function() {
            localStorage.removeItem(TEST_MODE_KEY);
            console.log('‚ùå TEST MODE DISABLED - Limita zilnicƒÉ activƒÉ');
            updateSpinButton();
        };
        
        window.resetDaily = function() {
            localStorage.removeItem(STORAGE_KEY);
            console.log('üîÑ Limita zilnicƒÉ resetatƒÉ - Po»õi √Ænv√¢rti din nou!');
            updateSpinButton();
        };
        
        window.checkStatus = function() {
            const testMode = localStorage.getItem(TEST_MODE_KEY) === 'true';
            const lastSpin = localStorage.getItem(STORAGE_KEY);
            const { canSpin, timeLeft } = checkDailyLimit();
            
            console.log('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
            console.log('üìä STATUS ROATƒÇ:');
            console.log('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
            console.log('Test Mode:', testMode ? '‚úÖ ACTIV' : '‚ùå INACTIV');
            console.log('Ultima √Ænv√¢rtire:', lastSpin ? new Date(parseInt(lastSpin)).toLocaleString('ro-RO') : 'NiciodatƒÉ');
            console.log('Poate √Ænv√¢rti:', canSpin ? '‚úÖ DA' : '‚ùå NU');
            if (!canSpin && !testMode) {
                console.log('Timp rƒÉmas:', formatTimeLeft(timeLeft));
            }
            console.log('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
            console.log('COMENZI DISPONIBILE:');
            console.log('- enableTestMode() ‚Üí ActiveazƒÉ modul test');
            console.log('- disableTestMode() ‚Üí DezactiveazƒÉ modul test');
            console.log('- resetDaily() ‚Üí ReseteazƒÉ limita zilnicƒÉ');
            console.log('- checkStatus() ‚Üí Vezi acest status');
            console.log('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
        };
        
        function checkDailyLimit() {
            // Check test mode first
            if (localStorage.getItem(TEST_MODE_KEY) === 'true') {
                return { canSpin: true, timeLeft: 0 };
            }
            
            const lastSpin = localStorage.getItem(STORAGE_KEY);
            
            if (!lastSpin) {
                return { canSpin: true, timeLeft: 0 };
            }
            
            const lastSpinDate = new Date(parseInt(lastSpin));
            const now = new Date();
            
            // Calculate next midnight (00:00)
            const nextMidnight = new Date(now);
            nextMidnight.setHours(24, 0, 0, 0);
            
            // Check if last spin was today
            const isToday = lastSpinDate.toDateString() === now.toDateString();
            
            if (isToday) {
                const timeLeft = nextMidnight - now;
                return { canSpin: false, timeLeft: timeLeft };
            }
            
            return { canSpin: true, timeLeft: 0 };
        }
        
        function formatTimeLeft(milliseconds) {
            const hours = Math.floor(milliseconds / (1000 * 60 * 60));
            const minutes = Math.floor((milliseconds % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((milliseconds % (1000 * 60)) / 1000);
            
            return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }
        
        function updateSpinButton() {
            const { canSpin, timeLeft } = checkDailyLimit();
            
            if (!canSpin) {
                spinButton.disabled = true;
                spinButton.textContent = `Revino √Æn ${formatTimeLeft(timeLeft)}`;
                
                // Update countdown every second
                const intervalId = setInterval(() => {
                    const { canSpin: newCanSpin, timeLeft: newTimeLeft } = checkDailyLimit();
                    
                    if (newCanSpin) {
                        spinButton.disabled = false;
                        spinButton.textContent = '√énv√¢rte Roata';
                        clearInterval(intervalId);
                    } else {
                        spinButton.textContent = `Revino √Æn ${formatTimeLeft(newTimeLeft)}`;
                    }
                }, 1000);
            }
        }
        
        function markSpinUsed() {
            localStorage.setItem(STORAGE_KEY, Date.now().toString());
        }
        
        // Check on page load
        updateSpinButton();
        
        // Display test instructions in console
        console.log('%cüé∞ ROATA ANIVERSARƒÇ - TEST MODE üé∞', 'font-size: 20px; font-weight: bold; color: #fa3c7a;');
        console.log('%cPentru TESTARE, folose»ôte urmƒÉtoarele comenzi:', 'font-size: 14px; color: #666;');
        console.log('%c‚Üí enableTestMode()', 'color: #4CAF50; font-weight: bold;', '- Po»õi √Ænv√¢rti nelimitat');
        console.log('%c‚Üí resetDaily()', 'color: #2196F3; font-weight: bold;', '- ReseteazƒÉ limita de azi');
        console.log('%c‚Üí checkStatus()', 'color: #FF9800; font-weight: bold;', '- Vezi statusul curent');
        console.log('%c‚Üí disableTestMode()', 'color: #f44336; font-weight: bold;', '- Revino la modul normal');
        console.log(' ');
        
        // Auto-check status on load
        setTimeout(() => {
            const testMode = localStorage.getItem(TEST_MODE_KEY) === 'true';
            if (testMode) {
                console.log('%c‚ö†Ô∏è TEST MODE ESTE ACTIV!', 'background: #4CAF50; color: white; padding: 5px 10px; font-weight: bold;');
            }
        }, 100);

        // Sec»õiunile ro»õii - 10 sec»õiuni totale
        // Pentru 70% nec√¢»ôtigƒÉtor: 7 sec»õiuni nec√¢»ôtigƒÉtor, 3 sec»õiuni c√¢»ôtigƒÉtor
        const sections = [
            { name: '15 lei', isWinner: true, type: 'lei', value: 15 },           // 0
            { name: 'Nec√¢»ôtigƒÉtor', isWinner: false },                            // 1
            { name: '20 lei', isWinner: true, type: 'lei', value: 20 },           // 2
            { name: 'Nec√¢»ôtigƒÉtor', isWinner: false },                            // 3
            { name: '25 lei', isWinner: true, type: 'lei', value: 25 },           // 4
            { name: 'Nec√¢»ôtigƒÉtor', isWinner: false },                            // 5
            { name: 'Cutie Roshen Cherry', isWinner: true, type: 'produs', value: 0 }, // 6
            { name: 'Nec√¢»ôtigƒÉtor', isWinner: false },                            // 7
            { name: '10%', isWinner: true, type: 'procent', value: 10 },          // 8
            { name: '15%', isWinner: true, type: 'procent', value: 15 }           // 9
        ];
        
        // Fiecare sec»õiune = 360¬∞ / 10 = 36¬∞
        const degreesPerSection = 360 / sections.length;

        let currentRotation = 0;
        let isSpinning = false;

        spinButton.addEventListener('click', spinWheel);

        function spinWheel() {
            if (isSpinning) return;
            
            // Check daily limit
            const { canSpin } = checkDailyLimit();
            if (!canSpin) {
                // Reopen last result modal instead of just alert
                reopenLastResult();
                return;
            }
            
            isSpinning = true;
            spinButton.disabled = true;
            
            // Mark this spin as used
            markSpinUsed();
            
            // Update button to show countdown
            updateSpinButton();

            // Logica probabilisticƒÉ: 70% nec√¢»ôtigƒÉtor, 30% c√¢»ôtigƒÉtor
            const random = Math.random();
            let winningSection;
            
            if (random < 0.7) {
                // 70% chance - alege o sec»õiune nec√¢»ôtigƒÉtor (1, 3, 5, 7)
                const loserSections = [1, 3, 5, 7];
                winningSection = loserSections[Math.floor(Math.random() * loserSections.length)];
            } else {
                // 30% chance - alege o sec»õiune c√¢»ôtigƒÉtor (0, 2, 4, 6, 8, 9)
                const winnerSections = [0, 2, 4, 6, 8, 9];
                winningSection = winnerSections[Math.floor(Math.random() * winnerSections.length)];
            }
            
            console.log('üéØ Sec»õiunea aleasƒÉ:', winningSection, '=', sections[winningSection].name);
            
            // CalculƒÉm unghiul central exact al sec»õiunii c√¢»ôtigƒÉtoare
            // IMPORTANT: SVG-ul nostru e desenat cu 0¬∞ SUS (am transformat √Æn calcule cu -90¬∞)
            // Dar trebuie sƒÉ »õinem cont cƒÉ prima sec»õiune (index 0) √Æncepe la 0¬∞ √Æn array nostru
            // ceea ce corespunde cu 0¬∞ = SUS √Æn SVG (dupƒÉ transformarea -90¬∞ √Æn calcule)
            const sectionCenterAngle = (winningSection * degreesPerSection) + (degreesPerSection / 2);
            
            console.log('üìç Centru sec»õiune la:', sectionCenterAngle, '¬∞');
            
            // AdƒÉugƒÉm 8-12 rota»õii complete
            const fullRotations = 8 + Math.floor(Math.random() * 5);
            const baseRotation = fullRotations * 360;
            
            // SƒÇGEATA E LA ST√ÇNGA = ceea ce √ÆnseamnƒÉ 270¬∞ √Æn coordonate roatƒÉ (nu 180¬∞!)
            // Explica»õie: DacƒÉ 0¬∞ = SUS, atunci:
            // - 90¬∞ = DREAPTA
            // - 180¬∞ = JOS  
            // - 270¬∞ = ST√ÇNGA ‚Üê aici e sƒÉgeata!
            
            // Pentru a aduce centrul sec»õiunii la sƒÉgeatƒÉ (270¬∞), rotim cu (270 - sectionCenterAngle)
            let targetAlignment = 270 - sectionCenterAngle;
            if (targetAlignment < 0) {
                targetAlignment += 360;
            }
            
            console.log('üéØ Aliniere »õintƒÉ:', targetAlignment, '¬∞ (pentru a aduce', sectionCenterAngle, '¬∞ la sƒÉgeatƒÉ st√¢nga - 270¬∞)');
            
            // CalculƒÉm unde suntem acum (modulo 360)
            const currentAlignment = currentRotation % 360;
            console.log('üìç Aliniere curentƒÉ:', currentAlignment, '¬∞');
            
            // Trebuie sƒÉ ajungem de la currentAlignment la targetAlignment
            // CalculƒÉm diferen»õa, asigur√¢ndu-ne cƒÉ rotim CW (pozitiv)
            let rotationNeeded = targetAlignment - currentAlignment;
            if (rotationNeeded < 0) {
                rotationNeeded += 360;
            }
            
            console.log('üîÑ Rota»õie necesarƒÉ pentru aliniere:', rotationNeeded, '¬∞');
            
            // AdƒÉugƒÉm rota»õiile complete pentru efect
            const totalRotationToAdd = baseRotation + rotationNeeded;
            
            console.log('‚ûï Rota»õie totalƒÉ de adƒÉugat:', totalRotationToAdd, '¬∞ (', fullRotations, 'rota»õii +', rotationNeeded, '¬∞)');
            
            // Rota»õia FINALƒÇ absolutƒÉ (unde vrem sƒÉ ajungem)
            const targetFinalRotation = currentRotation + totalRotationToAdd;
            
            console.log('üéØ Rota»õie finalƒÉ absolutƒÉ:', targetFinalRotation, '¬∞ (modulo:', targetFinalRotation % 360, '¬∞)');
            
            // FAZA 1: Ne oprim APROAPE de final (cu offset fa»õƒÉ de centru)
            const direction = Math.random() > 0.5 ? 1 : -1;
            const offsetFromCenter = direction * (15 + Math.random() * 5);
            
            // Rota»õia pentru FAZA 1 = rota»õia finalƒÉ - offset
            const phase1Rotation = targetFinalRotation - offsetFromCenter;
            
            console.log('‚è∏Ô∏è FAZA 1: Ne oprim la', phase1Rotation, '¬∞ (offset de', offsetFromCenter, '¬∞)');
            
            // AplicƒÉm FAZA 1
            currentRotation = phase1Rotation;
            wheel.style.transition = 'transform 5.5s cubic-bezier(0.17, 0.67, 0.12, 0.99)';
            wheel.style.transform = `rotate(${currentRotation}deg)`;

            // DupƒÉ 5.5 secunde, FAZA 2: salt rapid la centru exact
            setTimeout(() => {
                console.log('‚ö° FAZA 2: Salt rapid la centru');
                
                // AplicƒÉm rota»õia FINALƒÇ exactƒÉ
                currentRotation = targetFinalRotation;
                
                const finalModulo = currentRotation % 360;
                console.log('üéØ Rota»õie finalƒÉ aplicatƒÉ:', currentRotation, '¬∞');
                console.log('üîç Verificare:', finalModulo, '¬∞ (ar trebui sƒÉ fie', targetAlignment, '¬∞)', Math.abs(finalModulo - targetAlignment) < 1 ? '‚úì' : '‚úó');
                
                wheel.style.transition = 'transform 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55)';
                wheel.style.transform = `rotate(${currentRotation}deg)`;
                
                // A»ôteptƒÉm 0.8 secunde √Ænainte de modal
                setTimeout(() => {
                    console.log('‚úÖ Rezultat:', sections[winningSection].name, sections[winningSection].isWinner ? 'üéâ C√Ç»òTIGƒÇTOR' : 'üòî NEC√Ç»òTIGƒÇTOR');
                    showResult(winningSection);
                    isSpinning = false;
                    spinButton.disabled = false;
                }, 800);
            }, 5500);
        }

        function showResult(sectionIndex) {
            const result = sections[sectionIndex];
            
            // Save last result to localStorage
            localStorage.setItem(LAST_RESULT_KEY, JSON.stringify({
                isWinner: result.isWinner,
                prize: result.name,
                sectionIndex: sectionIndex
            }));
            
            if (result.isWinner) {
                prizeText.textContent = result.name;
                winnerModal.style.display = 'block';
                startCountdown('winnerCountdown');
            } else {
                loserModal.style.display = 'block';
                startCountdown('loserCountdown');
            }
        }
        
        function reopenLastResult() {
            const lastResult = localStorage.getItem(LAST_RESULT_KEY);
            if (!lastResult) return;
            
            const result = JSON.parse(lastResult);
            
            if (result.isWinner) {
                prizeText.textContent = result.prize;
                winnerModal.style.display = 'block';
                startCountdown('winnerCountdown');
            } else {
                loserModal.style.display = 'block';
                startCountdown('loserCountdown');
            }
        }
        
        function startCountdown(elementId) {
            const element = document.getElementById(elementId);
            
            function updateTimer() {
                const { timeLeft } = checkDailyLimit();
                element.textContent = formatTimeLeft(timeLeft);
            }
            
            updateTimer();
            const intervalId = setInterval(() => {
                const { canSpin } = checkDailyLimit();
                
                if (canSpin) {
                    element.textContent = '00:00:00';
                    clearInterval(intervalId);
                } else {
                    updateTimer();
                }
            }, 1000);
        }

        function closeLoserModal() {
            loserModal.style.display = 'none';
        }
        
        function generateDiscountCodeFromPrize(prize) {
            const prizeText = prize.toLowerCase().trim();
            
            if (prizeText.includes('15 lei')) {
                return 'VALENTINES15LEI';
            } else if (prizeText.includes('20 lei')) {
                return 'VALENTINES20LEI';
            } else if (prizeText.includes('25 lei')) {
                return 'VALENTINES25LEI';
            } else if (prizeText.includes('roshen') || prizeText.includes('cutie')) {
                return 'VALENTINESROSHEN';
            } else if (prizeText.includes('10%')) {
                return 'VALENTINES10';
            } else if (prizeText.includes('15%')) {
                return 'VALENTINES15PCT';
            } else {
                return 'VALENTINESSPECIAL';
            }
        }
        
        function closeWinnerModal() {
            winnerModal.style.display = 'none';
            winnerForm.reset();
            
            // Reset form visibility
            document.getElementById('winnerFormContainer').style.display = 'block';
            document.getElementById('successMessage').classList.remove('show');
            document.getElementById('errorMessage').classList.remove('show');
        }

        // Form submission
        winnerForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const firstName = document.getElementById('firstName').value.trim();
            const lastName = document.getElementById('lastName').value.trim();
            const email = document.getElementById('email').value.trim();
            const termsCheckbox = document.getElementById('termsCheckbox');
            const errorMessage = document.getElementById('errorMessage');
            
            // Reset error message
            errorMessage.classList.remove('show');
            
            // Validation
            if (!firstName || !lastName || !email) {
                errorMessage.textContent = '‚ö†Ô∏è Te rugƒÉm sƒÉ completezi toate c√¢mpurile obligatorii.';
                errorMessage.classList.add('show');
                
                // Scroll to error message
                errorMessage.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                return;
            }
            
            if (!termsCheckbox.checked) {
                errorMessage.textContent = '‚ö†Ô∏è Trebuie sƒÉ fii de acord cu termenii »ôi condi»õiile pentru a continua.';
                errorMessage.classList.add('show');
                
                // Scroll to checkbox
                termsCheckbox.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                return;
            }
            
            // Email validation
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                errorMessage.textContent = '‚ö†Ô∏è Te rugƒÉm sƒÉ introduci o adresƒÉ de email validƒÉ.';
                errorMessage.classList.add('show');
                return;
            }
            
            const submitButton = winnerForm.querySelector('button[type="submit"]');
            const originalText = submitButton.textContent;
            
            // Disable button »ôi aratƒÉ loading
            submitButton.disabled = true;
            submitButton.textContent = 'Se trimite...';
            
            // Google Forms Action URL »ôi Entry IDs
            const GOOGLE_FORM_ACTION_URL = 'https://docs.google.com/forms/u/0/d/e/1FAIpQLSeaCFRfu3xIPtX0UK-AdOV9tiXD7LUEpoWuBm5FtjUPxNxr0w/formResponse';
            const ENTRY_NUME = 'entry.208498987';
            const ENTRY_PRENUME = 'entry.684244259';
            const ENTRY_EMAIL = 'entry.1888314681';
            const ENTRY_PREMIU = 'entry.1992883041';
            
            const formData = new FormData();
            formData.append(ENTRY_NUME, firstName);
            formData.append(ENTRY_PRENUME, lastName);
            formData.append(ENTRY_EMAIL, email);
            formData.append(ENTRY_PREMIU, prizeText.textContent);
            
            try {
                // Trimite la Google Forms
                await fetch(GOOGLE_FORM_ACTION_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    body: formData
                });
                
                console.log('‚úÖ Datele au fost trimise cu succes cƒÉtre Google Forms');
                console.log('Date trimise:', {
                    nume: firstName,
                    prenume: lastName,
                    email: email,
                    premiu: prizeText.textContent,
                    termeniAcceptati: true
                });
                
                // Generate discount code based on prize
                const discountCode = generateDiscountCodeFromPrize(prizeText.textContent);
                
                // Hide form and show success message
                document.getElementById('winnerFormContainer').style.display = 'none';
                document.getElementById('displayDiscountCode').textContent = discountCode;
                document.getElementById('successMessage').classList.add('show');
                
            } catch (error) {
                console.error('‚ùå Error:', error);
                
                // Generate discount code
                const discountCode = generateDiscountCodeFromPrize(prizeText.textContent);
                
                // Still show success (no-cors doesn't give us error feedback)
                document.getElementById('winnerFormContainer').style.display = 'none';
                document.getElementById('displayDiscountCode').textContent = discountCode;
                document.getElementById('successMessage').classList.add('show');
            } finally {
                submitButton.disabled = false;
                submitButton.textContent = originalText;
            }
        });

        // Close modals when clicking outside
        window.onclick = function(event) {
            if (event.target == winnerModal) {
                winnerModal.style.display = 'none';
            }
            if (event.target == loserModal) {
                loserModal.style.display = 'none';
            }
        }
    </script>
</div><!-- /tfs-wrapper -->
</body>
</html>
